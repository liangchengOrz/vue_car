{"ast":null,"code":"import axios from 'axios';\nexport default {\n  name: 'VueYdCar',\n\n  data() {\n    return {\n      car: '',\n      subTotal: \"\"\n    };\n  },\n\n  created() {\n    axios.get('https://dahua0822-api.herokuapp.com/cart').then(res => {\n      console.log(res.data.data);\n      this.car = res.data.data.items;\n      this.subTotal = res.data.data.subTotal;\n    });\n  },\n\n  methods: {\n    handleClick(id) {\n      axios.post('https://dahua0822-api.herokuapp.com/cart/select', {\n        productId: id\n      }).then(res => {\n        console.log(res);\n      });\n    }\n\n  },\n  computed: {\n    total() {\n      let total = 0;\n      this.car.forEach(item => {\n        total += item.quantity;\n      });\n      return total;\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAgCA;AACA;EACAA,gBADA;;EAGAC;IACA;MACAC,OADA;MAEAC;IAFA;EAIA,CARA;;EAUAC;IACAC;MACAC;MACA;MACA;IACA,CAJA;EAKA,CAhBA;;EAkBAC;IACAC;MACAH;QAAAI;MAAA;QACAH;MACA,CAFA;IAIA;;EANA,CAlBA;EA0BAI;IACAC;MACA;MACA;QACAA;MACA,CAFA;MAGA;IACA;;EAPA;AA1BA","names":["name","data","car","subTotal","created","axios","console","methods","handleClick","productId","computed","total"],"sourceRoot":"src/views","sources":["Car.vue"],"sourcesContent":["<template>\n    <div>\n       <ul>\n        <li v-for=\"item in car\" :key=item._id>\n            <span class=\"check\" @click=\"handleClick(item._id)\" :style=\"{ item }\"></span>\n            <div class=\"content\">\n                <img :src=item.productId.image alt=\"\">\n                <div class=\"price\">\n                    <p style=\"fontSize:12px\">{{item.productId.name}}</p>\n                    <p style=\"fontSize:12px;color:rgba(204, 204, 204, 1)\">¥{{item.price}}</p>\n                    <p style=\"fontSize:14px;fontWeight:700;\">¥{{item.total}}</p>\n                </div>\n                <div class=\"jj\">\n                    <span class=\"btn\">-</span>\n                    <span style=\"fontSize:14px;fontWeight:700\">{{item.quantity}}</span>\n                    <span class=\"btn\">+</span>\n                </div>\n            </div>\n\n        </li>\n       </ul>\n       <div class=\"footer\">\n        <div class=\"total\">\n            <span style=\"fontSize:12px;\">共计：{{total}}件</span>\n            <span style=\"fontSize:12px;\">合计：<span style=\"fontSize:16px;fontWeight:700;\">{{subTotal}}</span>元</span>\n        </div>\n        <p class=\"zf\">支付</p>\n       </div>\n    </div>\n</template>\n\n<script>\nimport axios from 'axios'\nexport default {\n    name: 'VueYdCar',\n\n    data() {\n        return {\n            car:'',\n            subTotal:\"\"\n        };\n    },\n\n    created() {\n        axios.get('https://dahua0822-api.herokuapp.com/cart').then(res=>{\n            console.log(res.data.data)\n            this.car=res.data.data.items\n            this.subTotal=res.data.data.subTotal\n        })\n    },\n\n    methods: {\n        handleClick(id){\n            axios.post('https://dahua0822-api.herokuapp.com/cart/select',{productId:id}).then(res=>{\n                console.log(res)\n            })\n            \n        }\n    },\n    computed:{\n        total(){\n            let total=0\n            this.car.forEach(item => {\n                total+=item.quantity\n            });\n            return total\n        }\n    }\n    \n};\n</script>\n\n<style  scoped>\nul{\n    width: 375px;\n    padding-bottom: 200px;\n\n}\nli{\n    width: 331px;\n    margin: 0 auto;\n    height: 98px;\n    margin-top: 20px;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n}\n.check{\n    width: 18px;\n    height: 18px;\n    border-radius:50% ;\n    border: 1px solid #ccc;\n}\n.content{\n    width: 295px;\n    height: 98px;\n    background: white;\n    border-radius: 20px;\n    display: flex;\n    align-items: center;\n\n}\n.content img{\n    width: 70px;\n    height: 70px;\n    border-radius: 20px;\n    margin-left: 14px;\n}\n.price{\n    height: 70px;\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n    margin-left: 10px;\n    width: 100px;\n}\n.jj{\n    margin-left: 10px;\n    width: 50px;\n    display: flex;\n    justify-content: space-between;\n    height: 20px;\n    margin-top: 50px;\n}\n.btn{\n    width: 16px;\n    height: 16px;\n    border-radius: 3px;\n    background: rgba(255, 223, 117, 1);\n    text-align: center;\n    line-height: 16px;\n}\n.footer{\n    width: 375px;\n    background: white;\n    height: 135px;\n    position: fixed;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    border-radius: 20px 20px 0 0;\n}\n.total{\n    width: 335px;\n    margin: 0 auto;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    height: 60px;\n}\n.zf{\n    width: 335px;\n    height: 58px;\n    margin: 0 auto;\n    background: rgba(255, 223, 117, 1);\n    border-radius: 20px;\n    font-size: 16px;\n    font-weight: 900px;\n    text-align: center;\n    line-height: 58px;\n}\n</style>"]},"metadata":{},"sourceType":"module"}